<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../layout/customerTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="head">

    </ui:define>

    <ui:define name="top">

    </ui:define>

    <ui:define name="content">
        <h:form id="form" class="content-class">
            <p:growl id="growl" showDetail="true" sticky="true" /> 


            <div class="event-details"> 
                <div class="detail-row">                
                    <h1 id="title"><span class="detail-value">#{exchangeListingManagedBean.currentExchangeListing.title}</span></h1>
                </div>

                <div class="detail-row">
                    <span class="detail-label"> Start: </span>
                    <span class="detail-value">
                        <h:outputText value="#{exchangeListingManagedBean.currentExchangeListing.startDateTime}" >
                            <f:convertDateTime pattern="EEEE, MMMM d, HH:mm yyyy" timeZone="Asia/Singapore" />
                        </h:outputText>
                    </span>
                </div>


                <div class="detail-row">
                    <span class="detail-label">End:</span>
                    <span class="detail-value">
                        <h:outputText value="#{exchangeListingManagedBean.currentExchangeListing.endDateTime}" >
                            <f:convertDateTime pattern="EEEE, MMMM d, HH:mm yyyy" timeZone="Asia/Singapore" />
                        </h:outputText>
                    </span>
                </div>

                <div class="detail-row">
                    <span class="detail-label">Description: </span>
                    <span class="detail-value">#{exchangeListingManagedBean.currentExchangeListing.description}</span>
                </div>

                <div class="detail-row">
                    <span class="detail-label">Skills required for task:</span>
                    <span class="detail-value">
                        <ul>
                            <ui:repeat value="#{exchangeListingManagedBean.currentExchangeListing.skills}" var="skill">
                                <li>#{skill.skillName}</li>
                            </ui:repeat>
                        </ul>
                    </span>
                </div>
            </div>

            <div class="event-register">           
                <!--
                <p:commandButton value="Offer" action="addOffer.xhtml?faces-redirect=true">
                    <f:param name="exchangeListingId" value={offerManagedBean.exchangeListingId}" />
                </p:commandButton>
                -->
                <h:commandButton value="Add Offer" 
                                 action="#{exchangeListingManagedBean.navigateToAddOffer(exchangeListingManagedBean.currentExchangeListing)}" 
                                 />

            </div>

        </h:form>
    </ui:define>

    <ui:define name="script">

    </ui:define>

</ui:composition>
